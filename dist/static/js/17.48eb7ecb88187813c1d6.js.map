{"version":3,"sources":["webpack:///src/pages/dataPages/hiddendanger/AIAnalysis.vue","webpack:///./src/pages/dataPages/hiddendanger/AIAnalysis.vue?acf8","webpack:///./src/pages/dataPages/hiddendanger/AIAnalysis.vue"],"names":["AIAnalysis","components","baseTable","baseDialog","data","buttonarr","type","text","num","screensign","loading","tableData","tableThead","name","prop","totalCount","page","FireUnitId","localStorage","getItem","VisionAlarmType","SkipCount","MaxResultCount","monitorPicture","created","this","GetVisionAlarmList_Vision","GetVisionAlarmTypeNum","methods","_this","$axios","get","$api","params","then","res","console","log","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","result","items","next","done","arr","value","creationTime","delTime","relieveTime","err","return","_res$data$result","_this2","fireUnitId","str","split","str2","screen","showdetails","index","$refs","dialogVisible","$URL","prev_next","p","hiddendanger_AIAnalysis","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","key","attrs","round","plain","on","click","$event","_e","_v","_s","directives","rawName","expression","element-loading-text","element-loading-spinner","element-loading-background","pageSize","specailText","pageChange","ref","title","src","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.48eb7ecb88187813c1d6.js","sourcesContent":["<template>\r\n  <div class=\"AIAnalysis\">\r\n        <div class=\"topStatus\">\r\n            <el-button\r\n                v-for=\"item in buttonarr\"\r\n                :key=\"item.text\"\r\n                round \r\n                plain\r\n                :type=\"item.type\"\r\n                @click=\"screen(item.text)\"\r\n            >\r\n                <i v-if=\"screensign == item.text\" class=\"el-icon-check  el-icon--right\"></i>\r\n                {{item.text}}{{item.num}}\r\n            </el-button>\r\n      </div>\r\n      <baseTable\r\n        v-loading=\"loading\"\r\n        element-loading-text=\"拼命加载中\"\r\n        element-loading-spinner=\"el-icon-loading\"\r\n        element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n        :tableThead=\"tableThead\"\r\n        :tableData=\"tableData\"\r\n        :totalCount='totalCount'\r\n        :pageSize=\"10\"\r\n        @showdetails=\"showdetails\"\r\n        @pageChange=\"prev_next\"\r\n        specailText=\"查看\"\r\n      >\r\n      \r\n      </baseTable>\r\n      \r\n      <baseDialog title=\"现场图片\" ref=\"baseDialog\">\r\n            <img class=\"monitorPicture\" :src=\"monitorPicture\" alt=\"\">\r\n      </baseDialog>\r\n\r\n\r\n       \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport baseTable from '../../../components/baseTable/index'\r\nimport baseDialog from '../../../components/baseDialog/index'\r\nexport default {\r\n    components:{\r\n        baseTable,\r\n        baseDialog\r\n    },\r\n    data(){\r\n        return{\r\n            buttonarr:[\r\n                {\r\n                    type:'primary',\r\n                    text:'全部'\r\n                },\r\n                {\r\n                    type:'warning',\r\n                    text:'室外通道',\r\n                    num:0\r\n                },\r\n                {\r\n                    type:'danger',\r\n                    text:'室内通道',\r\n                    num:0\r\n                },\r\n                {\r\n                    type:'warning',\r\n                    text:'火焰烟雾',\r\n                    num:0\r\n                }\r\n            ],\r\n            screensign:\"全部\",\r\n            loading:false,\r\n            tableData:[],\r\n            tableThead:[\r\n                {\r\n                    name:'报警时间',\r\n                    prop:'creationTime',\r\n                },\r\n                {\r\n                    name:'警情类型',\r\n                    prop:'visionAlarmType',\r\n                },\r\n                {\r\n                    name:'摄像编号',\r\n                    prop:'monitorSN',\r\n                },\r\n                {\r\n                    name:'监控地点',\r\n                    prop:'monitorAddress'\r\n                },\r\n                {\r\n                    name:'报警图片',\r\n                    \r\n                },\r\n                {\r\n                    name:'解除警情时间',\r\n                    prop:'relieveTime',\r\n                },\r\n            ],\r\n            totalCount:0,\r\n            page:{\r\n                FireUnitId :localStorage.getItem('fireUnitID'),\r\n                VisionAlarmType:0,\r\n                SkipCount:0,\r\n                MaxResultCount:10\r\n            },\r\n          \r\n            monitorPicture: ''\r\n        }\r\n    },\r\n    created(){\r\n        this.GetVisionAlarmList_Vision();\r\n        this.GetVisionAlarmTypeNum();\r\n    },\r\n    methods:{\r\n        GetVisionAlarmList_Vision(){\r\n           \r\n            this.$axios.get(this.$api.GetVisionAlarmList_Vision,{params:this.page}).then(res=>{\r\n                console.log(\"GetVisionAlarmList_Vision\",res);\r\n                for(let arr of res.data.result.items){\r\n                    arr.creationTime = this.delTime(arr.creationTime)\r\n                    if(arr.relieveTime){\r\n                          arr.relieveTime = this.delTime(arr.relieveTime)\r\n                    }\r\n                  \r\n                };\r\n                ({totalCount:this.totalCount,items:this.tableData} = res.data.result)\r\n            })\r\n        },\r\n        GetVisionAlarmTypeNum(){\r\n            this.$axios.get(this.$api.GetVisionAlarmTypeNum,\r\n                {params:{fireUnitId:this.page.FireUnitId}}\r\n            ).then(res=>{\r\n                console.log(\"状态数量\",res)\r\n                this.buttonarr[1].num = res.data.result[0].value\r\n                this.buttonarr[2].num = res.data.result[1].value\r\n                this.buttonarr[3].num = res.data.result[2].value\r\n            })\r\n        },\r\n        //时间处理格式\r\n        delTime(data){\r\n            var str = data.split('T');\r\n            var str2 = str[1].split(\".\")\r\n            var timestr = str[0] +\" \"+ str2[0]\r\n            return timestr;\r\n        },\r\n        screen(text){\r\n            this.screensign = text;\r\n            if(text == '室外通道'){\r\n                this.page.VisionAlarmType  =3\r\n            }else if(text == '室内通道'){\r\n                this.page.VisionAlarmType  =2\r\n            }else if(text == '火焰烟雾'){\r\n                this.page.VisionAlarmType  =1\r\n            }else if (text == '全部') {\r\n                 this.page.VisionAlarmType  =0\r\n            }\r\n            this.GetVisionAlarmList_Vision();\r\n\r\n        },\r\n        //查看详情\r\n        showdetails(items,index){\r\n            this.$refs.baseDialog.dialogVisible = true\r\n            this.monitorPicture = `${this.$URL}${items.monitorPicture}`\r\n           \r\n        },\r\n        prev_next(p){\r\n            this.page.SkipCount = (p-1)*this.page.MaxResultCount\r\n            this.GetVisionAlarmList_Vision();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.monitorPicture{\r\n    width: 100%;\r\n    height: 500px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/dataPages/hiddendanger/AIAnalysis.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"AIAnalysis\"},[_c('div',{staticClass:\"topStatus\"},_vm._l((_vm.buttonarr),function(item){return _c('el-button',{key:item.text,attrs:{\"round\":\"\",\"plain\":\"\",\"type\":item.type},on:{\"click\":function($event){return _vm.screen(item.text)}}},[(_vm.screensign == item.text)?_c('i',{staticClass:\"el-icon-check  el-icon--right\"}):_vm._e(),_vm._v(\"\\n              \"+_vm._s(item.text)+_vm._s(item.num)+\"\\n          \")])}),1),_vm._v(\" \"),_c('baseTable',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"tableThead\":_vm.tableThead,\"tableData\":_vm.tableData,\"totalCount\":_vm.totalCount,\"pageSize\":10,\"specailText\":\"查看\"},on:{\"showdetails\":_vm.showdetails,\"pageChange\":_vm.prev_next}}),_vm._v(\" \"),_c('baseDialog',{ref:\"baseDialog\",attrs:{\"title\":\"现场图片\"}},[_c('img',{staticClass:\"monitorPicture\",attrs:{\"src\":_vm.monitorPicture,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6dc189ea\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/dataPages/hiddendanger/AIAnalysis.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6dc189ea\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AIAnalysis.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AIAnalysis.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AIAnalysis.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6dc189ea\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AIAnalysis.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/dataPages/hiddendanger/AIAnalysis.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}