{"version":3,"sources":["webpack:///src/pages/dataPages/hiddendanger/AIAnalysis.vue","webpack:///./src/pages/dataPages/hiddendanger/AIAnalysis.vue?50c6","webpack:///./src/pages/dataPages/hiddendanger/AIAnalysis.vue"],"names":["AIAnalysis","components","baseTable","baseDialog","data","buttonarr","type","text","num","screensign","loading","tableData","tableThead","name","prop","totalCount","page","FireUnitId","localStorage","getItem","VisionAlarmType","SkipCount","MaxResultCount","srcList","created","this","GetVisionAlarmTsjList","GetVisionAlarmTsjNum","methods","_this","$axios","get","$api","params","then","res","console","log","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","result","items","next","done","arr","value","creationTime","delTime","releaseTime","err","return","_res$data$result","_this2","fireUnitId","passagewayOutdoor","passagewayIndoor","fire","str","split","str2","screen","showdetails","index","$refs","dialogVisible","img","column","label","alarmPhotoUrl","$URL","push","releasePhotoUrl","prev_next","p","hiddendanger_AIAnalysis","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","key","attrs","round","plain","on","click","$event","_e","_v","_s","directives","rawName","expression","element-loading-text","element-loading-spinner","element-loading-background","pageSize","specailText","pageChange","ref","title","length","images","Imgindex","staticStyle","width","height","src","fit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.03ca7f34a91edea003b4.js","sourcesContent":["<template>\r\n  <div class=\"AIAnalysis\">\r\n        <div class=\"topStatus\">\r\n            <el-button\r\n                v-for=\"item in buttonarr\"\r\n                :key=\"item.text\"\r\n                round \r\n                plain\r\n                :type=\"item.type\"\r\n                @click=\"screen(item.text)\"\r\n            >\r\n                <i v-if=\"screensign == item.text\" class=\"el-icon-check  el-icon--right\"></i>\r\n                {{item.text}}{{item.num}}\r\n            </el-button>\r\n      </div>\r\n      <baseTable\r\n        v-loading=\"loading\"\r\n        element-loading-text=\"拼命加载中\"\r\n        element-loading-spinner=\"el-icon-loading\"\r\n        element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n        :tableThead=\"tableThead\"\r\n        :tableData=\"tableData\"\r\n        :totalCount='totalCount'\r\n        :pageSize=\"10\"\r\n        @showdetails=\"showdetails\"\r\n        @pageChange=\"prev_next\"\r\n        specailText=\"查看\"\r\n      >\r\n      \r\n      </baseTable>\r\n      \r\n      <baseDialog title=\"现场图片\" ref=\"baseDialog\">\r\n            <viewer v-if=\"srcList.length>0\" class=\"viewer\"  :images=\"srcList\">\r\n                <img\r\n                    v-for=\"(img,Imgindex) in srcList\"\r\n                    :key=\"Imgindex\"\r\n                    style=\"width: 900px; height: 450px\"\r\n                    :src=\"img\"\r\n                    fit=\"cover\"\r\n                ><img>\r\n            </viewer>\r\n            <div v-else>\r\n                暂无图片 \r\n            </div>\r\n      </baseDialog>\r\n\r\n\r\n       \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport baseTable from '../../../components/baseTable/index'\r\nimport baseDialog from '../../../components/baseDialog/index'\r\nexport default {\r\n    components:{\r\n        baseTable,\r\n        baseDialog\r\n    },\r\n    data(){\r\n        return{\r\n            buttonarr:[\r\n                {\r\n                    type:'primary',\r\n                    text:'全部'\r\n                },\r\n                {\r\n                    type:'warning',\r\n                    text:'室外通道',\r\n                    num:0\r\n                },\r\n                {\r\n                    type:'danger',\r\n                    text:'室内通道',\r\n                    num:0\r\n                },\r\n                {\r\n                    type:'warning',\r\n                    text:'火焰烟雾',\r\n                    num:0\r\n                }\r\n            ],\r\n            screensign:\"全部\",\r\n            loading:false,\r\n            tableData:[],\r\n            tableThead:[\r\n                {\r\n                    name:'报警时间',\r\n                    prop:'creationTime',\r\n                },\r\n                {\r\n                    name:'警情类型',\r\n                    prop:'visionAlarmType',\r\n                },\r\n                {\r\n                    name:'摄像编号',\r\n                    prop:'visionDevice',\r\n                },\r\n                {\r\n                    name:'监控地点',\r\n                    prop:'location'\r\n                },\r\n                {\r\n                    name:'报警图片',\r\n                    \r\n                },\r\n                {\r\n                    name:'解除警情时间',\r\n                    prop:'releaseTime',\r\n                },\r\n                {\r\n                    name:'解除警情图片',\r\n                },\r\n            ],\r\n            totalCount:0,\r\n            page:{\r\n                FireUnitId :localStorage.getItem('fireUnitID'),\r\n                VisionAlarmType:0,\r\n                SkipCount:0,\r\n                MaxResultCount:10\r\n            },\r\n          \r\n            srcList: []\r\n        }\r\n    },\r\n    created(){\r\n        this.GetVisionAlarmTsjList();\r\n        this.GetVisionAlarmTsjNum();\r\n    },\r\n    methods:{\r\n        GetVisionAlarmTsjList(){\r\n            this.$axios.get(this.$api.GetVisionAlarmTsjList,{params:this.page}).then(res=>{\r\n                console.log(\"res\",res);\r\n                for(let arr of res.data.result.items){\r\n                    arr.creationTime = this.delTime(arr.creationTime)\r\n                    if(arr.releaseTime){\r\n                          arr.releaseTime = this.delTime(arr.releaseTime)\r\n                    }\r\n                  \r\n                };\r\n                ({totalCount:this.totalCount,items:this.tableData} = res.data.result)\r\n            })\r\n        },\r\n        GetVisionAlarmTsjNum(){\r\n            this.$axios.get(this.$api.GetVisionAlarmTsjNum,\r\n                {params:{fireUnitId:this.page.FireUnitId}}\r\n            ).then(res=>{\r\n                console.log(\"状态数量\",res)\r\n                this.buttonarr[1].num = res.data.result.passagewayOutdoor\r\n                this.buttonarr[2].num = res.data.result.passagewayIndoor\r\n                this.buttonarr[3].num = res.data.result.fire\r\n            })\r\n        },\r\n        //时间处理格式\r\n        delTime(data){\r\n            var str = data.split('T');\r\n            var str2 = str[1].split(\".\")\r\n            var timestr = str[0] +\" \"+ str2[0]\r\n            return timestr;\r\n        },\r\n        screen(text){\r\n            this.screensign = text;\r\n            if(text == '室外通道'){\r\n                this.page.VisionAlarmType  =3\r\n            }else if(text == '室内通道'){\r\n                this.page.VisionAlarmType  =2\r\n            }else if(text == '火焰烟雾'){\r\n                this.page.VisionAlarmType  =1\r\n            }else if (text == '全部') {\r\n                 this.page.VisionAlarmType  =0\r\n            }\r\n            this.GetVisionAlarmTsjList();\r\n\r\n        },\r\n        //查看详情\r\n        showdetails(items,index){\r\n            console.log(\"items\",items,index)\r\n            this.srcList =[]\r\n            this.$refs.baseDialog.dialogVisible = true;\r\n            let img\r\n            if(index.column.label == '报警图片'){\r\n                if (items.alarmPhotoUrl) {\r\n                    img  = `${this.$URL}${items.alarmPhotoUrl}`\r\n                    this.srcList.push(img);\r\n                }\r\n                \r\n            }else if(index.column.label == '解除警情图片'){\r\n                if (items.releasePhotoUrl) {\r\n                    img = `${this.$URL}${items.releasePhotoUrl}`\r\n                     this.srcList.push(img);\r\n                }\r\n                \r\n            }\r\n           \r\n        },\r\n        prev_next(p){\r\n            this.page.SkipCount = (p-1)*this.page.MaxResultCount\r\n            this.GetVisionAlarmTsjList();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/dataPages/hiddendanger/AIAnalysis.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"AIAnalysis\"},[_c('div',{staticClass:\"topStatus\"},_vm._l((_vm.buttonarr),function(item){return _c('el-button',{key:item.text,attrs:{\"round\":\"\",\"plain\":\"\",\"type\":item.type},on:{\"click\":function($event){return _vm.screen(item.text)}}},[(_vm.screensign == item.text)?_c('i',{staticClass:\"el-icon-check  el-icon--right\"}):_vm._e(),_vm._v(\"\\n              \"+_vm._s(item.text)+_vm._s(item.num)+\"\\n          \")])}),1),_vm._v(\" \"),_c('baseTable',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"tableThead\":_vm.tableThead,\"tableData\":_vm.tableData,\"totalCount\":_vm.totalCount,\"pageSize\":10,\"specailText\":\"查看\"},on:{\"showdetails\":_vm.showdetails,\"pageChange\":_vm.prev_next}}),_vm._v(\" \"),_c('baseDialog',{ref:\"baseDialog\",attrs:{\"title\":\"现场图片\"}},[(_vm.srcList.length>0)?_c('viewer',{staticClass:\"viewer\",attrs:{\"images\":_vm.srcList}},[_vm._l((_vm.srcList),function(img,Imgindex){return _c('img',{key:Imgindex,staticStyle:{\"width\":\"900px\",\"height\":\"450px\"},attrs:{\"src\":img,\"fit\":\"cover\"}})}),_c('img')],2):_c('div',[_vm._v(\"\\n              暂无图片 \\n          \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54079d0f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/dataPages/hiddendanger/AIAnalysis.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54079d0f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AIAnalysis.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AIAnalysis.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AIAnalysis.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54079d0f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AIAnalysis.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/dataPages/hiddendanger/AIAnalysis.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}