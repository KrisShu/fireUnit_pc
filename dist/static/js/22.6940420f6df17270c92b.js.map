{"version":3,"sources":["webpack:///src/pages/dataPages/inspectionRecords/index.vue","webpack:///./src/pages/dataPages/inspectionRecords/index.vue?e2a4","webpack:///./src/pages/dataPages/inspectionRecords/index.vue"],"names":["inspectionRecords","components","baseTable","data","loading","screensign","buttonarr","type","text","num","totalCount","tableData","tableThead","name","prop","page","FireUnitId","localStorage","getItem","PatrolStatus","SkipCount","MaxResultCount","dialogVisible","PatrolInfo","amr","Object","created","this","GetPatrolList","GetPatrolStatusTotal","methods","screen","state","_this","fireunitId","$axios","get","$api","params","then","res","result","normalCount","greenFaultCount","redFaultCount","catch","err","console","log","_this2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","items","next","done","arr","value","creationTime","deal","patrolStatus","return","_res$data$result","str","split","str2","prev_next","showdetails","item","GetPatrolInfo","patrolId","initBG","patrolDetailList","length","element","document","getElementsByClassName","last","style","height","box","last_box","one_height","clientHeight","postionheight","parseInt","last_height","postionheight_last","i","background","backgroundPosition","backgroundRepeat","_this3","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","x","patrolPhtosPath","$URL","problemVoiceUrl","BenzAMRRecorder","__webpack_require__","initWithUrl","$nextTick","playaudio","play","onEnded","dataPages_inspectionRecords","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","attrs","round","plain","on","click","$event","_e","_v","_s","directives","rawName","expression","element-loading-text","element-loading-spinner","element-loading-background","pageSize","specailText","pageChange","top","title","visible","update:visible","userName","patrolType","totalDetailNum","totalProblemNum","greenProblemNum","staticStyle","index","patrolAddress","problemRemark","src","alt","voiceLength","images","img","imgIndex","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.6940420f6df17270c92b.js","sourcesContent":["<style lang=\"less\">\r\n.inspectionRecords{\r\n    @divBG : #072041;\r\n    .border_dialog{\r\n        -webkit-border-image: url(\"../../../assets/image/border.png\") 27 round;\r\n        border-image:url(\"../../../assets/image/home/home_img_bg.png\") 22 24 repeat stretch;\r\n        border-style: solid;\r\n        border-width: 24px 24px;\r\n    }\r\n    .el-dialog{\r\n        width: 30%;\r\n        height: 90%;\r\n        min-width: 500px;\r\n        min-height: 800px;\r\n        .border_dialog();\r\n        position: relative;\r\n        background: @divBG;\r\n        .el-dialog__headerbtn .el-dialog__close{\r\n            display: inline-block;\r\n            width: 50px;\r\n            height: 50px;\r\n            color: transparent;\r\n            background: url(\"../../../assets/image/home/dialog_btn_close.png\");\r\n            position: absolute;\r\n            top: -50px;\r\n            right: -50px;\r\n        }\r\n        .el-dialog__header{\r\n            height: 70px;\r\n            padding: 0px;\r\n            background: url(\"../../../assets/image/home/dialog_bg.png\") no-repeat;\r\n            background-position: center center;\r\n            .el-dialog__title{\r\n                color: #fefefe;\r\n                font-size: 22px;\r\n                line-height: 70px;\r\n                text-align: center;\r\n                width: 100%;\r\n                display: inline-block;\r\n            }\r\n        }\r\n        .el-dialog__body{\r\n                padding: 0px;\r\n                min-height: 400px;\r\n        }\r\n        .dialogContent{\r\n            p{\r\n                line-height: 3;\r\n                color: white;\r\n                span{\r\n                    &.title{\r\n                        font-weight: bold;\r\n                        display: inline-block;\r\n                        width: 100px;\r\n                        text-align: left;\r\n                    }\r\n                }\r\n                &.summary{\r\n                    color: #a2ecff;\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n        .right_details_TrackList{\r\n                height: 480px;\r\n                padding: 20px 0px;\r\n                width:100%;\r\n              \r\n                .el-scrollbar__wrap{\r\n                    overflow-x: hidden;\r\n                }\r\n                .right_details_TrackList_inner{\r\n                    .cricle_container{\r\n                         display: flex;\r\n                         /*  */\r\n                        .right_box_box{\r\n                            width: 390px;\r\n                            padding: 16px;\r\n                            border: solid 1px #4360a4;\r\n                            margin-bottom: 10px;\r\n                             font-size: 12px;\r\n                             color: white;\r\n                             p{\r\n                                 line-height: 2;\r\n                             }\r\n                            .right_box_box_time{\r\n                                display: flex;\r\n                                justify-content: space-between;\r\n                                .status{\r\n                                    font-size: 14px;\r\n                                    &.normal{\r\n                                       color: #1eff00;\r\n                                    }\r\n                                    &.had{\r\n                                       color: #1eff00;\r\n                                    }\r\n                                    &.hading{\r\n                                       color: orange;\r\n                                    }\r\n                                }\r\n                            }\r\n                            .VoiceRemark{\r\n                                margin-top: 20px;\r\n                                .remark{\r\n                                    font-size: 16px;\r\n                                }\r\n                                .audio{\r\n                                    width: 80px;\r\n                                    height: 30px;\r\n                                    background: #54b954;\r\n                                    border-radius: 10px;\r\n                                    display: flex;\r\n                                    align-items: center;\r\n                                    color: white;\r\n                                    padding: 0px 6px;\r\n                                    cursor: pointer;\r\n                                    .voice{\r\n                                        margin-right: 10px;\r\n                                    }\r\n                                }\r\n                            }\r\n                            .right_box_box_Img{\r\n                                display: flex;\r\n                                margin-top: 12px;\r\n                                img{\r\n                                    width: 100px;\r\n                                    height: 100px;\r\n                                    &:nth-of-type(2){\r\n                                        margin: 0px 40px;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        /*  */\r\n                        .left_cricle_box{\r\n                             display: flex;\r\n                             flex-direction: column;\r\n                             justify-content: center;\r\n                             align-items: center;\r\n                             position: relative;\r\n                             width: 40px;\r\n                             .cricle{\r\n                                 width: 14px;\r\n                                 height: 14px;\r\n                                 border-radius: 50%;\r\n                                 background-color: #00baff;\r\n                             }\r\n                             .line{\r\n                                 width: 1px;\r\n                                 height: 190px;\r\n                                 background-color: #00baff;\r\n                                 position: absolute;\r\n                                 top: 102px;\r\n                             }\r\n\r\n                        }\r\n                    }\r\n\r\n                    &:last-of-type .line{\r\n                        height: 0px !important;\r\n                    }\r\n\r\n                }\r\n\r\n        }\r\n}\r\n   \r\n\r\n</style>\r\n<template>\r\n    <div class=\"inspectionRecords\">\r\n        <div class=\"topStatus\">\r\n            <el-button\r\n                v-for=\"item in buttonarr\"\r\n                :key=\"item.text\"\r\n                round \r\n                plain\r\n                :type=\"item.type\"\r\n                @click=\"screen(item.text)\"\r\n            >\r\n                <i v-if=\"screensign == item.text\" class=\"el-icon-check  el-icon--right\"></i>\r\n                {{item.text}}\r\n                {{item.num}}\r\n            </el-button>\r\n        </div>\r\n        <baseTable\r\n            v-loading=\"loading\"\r\n            element-loading-text=\"拼命加载中\"\r\n            element-loading-spinner=\"el-icon-loading\"\r\n            element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n            :tableThead=\"tableThead\"\r\n            :tableData=\"tableData\"\r\n            :totalCount='totalCount'\r\n            :pageSize=\"10\"\r\n            specailText=\"查看巡查记录\"\r\n            @showdetails=\"showdetails\"\r\n            @pageChange=\"prev_next\"\r\n        >\r\n        \r\n        </baseTable>\r\n\r\n        <!-- 巡查记录弹窗 -->\r\n        <el-dialog top=\"4vh\" title=\"巡查记录\" :visible.sync=\"dialogVisible\">\r\n            <div class=\"dialogContent\">\r\n                <p><span class=\"title\">提交时间：</span>{{PatrolInfo.creationTime}}</p>\r\n                <p><span class=\"title\">值班人员：</span>{{PatrolInfo.userName}}</p>\r\n                <p>\r\n                    <span class=\"title\">巡查方式：</span>\r\n                    <span v-if=\"PatrolInfo.patrolType == 1\">一般巡查</span>\r\n                    <span v-if=\"PatrolInfo.patrolType == 2\">扫码巡查</span>\r\n                </p>\r\n               \r\n                <p class=\"summary\">有效轨迹点{{PatrolInfo.totalDetailNum}}个，发现{{PatrolInfo.totalProblemNum}}个问题，现场解决{{PatrolInfo.greenProblemNum}}个问题</p>\r\n                 <div \r\n                    class=\"right_details_TrackList\" \r\n                    v-if=\" PatrolInfo.patrolDetailList\"\r\n                    v-loading=\"loading\"\r\n                    element-loading-text=\"拼命加载中\"\r\n                    element-loading-spinner=\"el-icon-loading\"\r\n                    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n                >\r\n                     <el-scrollbar style=\"height:100%\">\r\n                        <div class=\"right_details_TrackList_inner\" v-for=\"(arr,index) in  PatrolInfo.patrolDetailList\" :key=\"index\">\r\n                            <div class=\"cricle_container\">\r\n                                <div class=\"left_cricle_box\">\r\n                                </div>\r\n                                <div class=\"right_box_box\">\r\n                                    <p class=\"right_box_box_time\">\r\n                                        <span>{{arr.creationTime}}</span>\r\n                                        <span class=\"status\" v-if=\"arr.patrolStatus == 0\">未指定</span>\r\n                                        <span class=\"status normal\" v-if=\"arr.patrolStatus == 1\">正常</span>\r\n                                        <span class=\"status had\" v-if=\"arr.patrolStatus == 2\">已解决</span>\r\n                                        <span class=\"status hading\" v-if=\"arr.patrolStatus == 3\">异常</span>\r\n                                    </p>\r\n                                    <div class=\"right_box_box_patrolAddress\">\r\n                                        <span>{{arr.patrolAddress}}</span>\r\n                                    </div>\r\n                                    <div class=\"VoiceRemark\">\r\n                                        <p class=\"remark\" v-if=\"arr.problemRemark\">{{arr.problemRemark}}</p>\r\n                                        <div v-if=\"arr.problemVoiceUrl\" class=\"audio\" @click=\"playaudio(index)\">\r\n                                            <img class=\"voice\" src=\"../../../assets/image/index/voice.png\" alt=\"\">\r\n                                            <span class=\"time\">{{arr.voiceLength}}\"</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"right_box_box_Img\">\r\n                                        <viewer :images=\"arr.patrolPhtosPath\">\r\n                                            <img v-for=\"(img,imgIndex) in arr.patrolPhtosPath\"  :key=\"imgIndex\" :src=\"img\" alt=\"\">\r\n                                        </viewer>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                     </el-scrollbar>\r\n                </div>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nimport baseTable from '../../../components/baseTable/index'\r\nexport default {\r\n   components:{\r\n       baseTable\r\n   },\r\n    data(){\r\n        return{\r\n            loading:false,\r\n            screensign:'全部',\r\n            buttonarr:[\r\n                {\r\n                    type:'info',\r\n                    text:'全部'\r\n                },\r\n                {\r\n                    type:'success',\r\n                    text:'正常',\r\n                    num:0\r\n                },\r\n                {\r\n                    type:'success',\r\n                    text:'故障-已解决',\r\n                    num:0\r\n                },\r\n                {\r\n                    type:'warning',\r\n                    text:'故障-未解决',\r\n                    num:0\r\n                }\r\n            ],\r\n            totalCount:0,//列表总数\r\n            tableData:[],//\r\n            tableThead:[\r\n                {\r\n                    name:'提交时间',\r\n                    prop:'creationTime'\r\n                },\r\n                {\r\n                    name:'巡查人员',\r\n                    prop:'userName'\r\n                },\r\n                {\r\n                    name:'状态',\r\n                    prop:'state'\r\n                },\r\n                {\r\n                    name:'操作'\r\n                }\r\n            ],\r\n            page:{\r\n                FireUnitId :localStorage.getItem('fireUnitID'),\r\n                PatrolStatus:0,\r\n                SkipCount:0,\r\n                MaxResultCount:10\r\n            },\r\n            dialogVisible:false,\r\n            PatrolInfo:[],//详情数据\r\n            amr:Object,//语音播放对象\r\n        }\r\n    },\r\n    created(){\r\n        this.GetPatrolList();\r\n        this.GetPatrolStatusTotal();\r\n    },\r\n    methods:{\r\n        //筛选数据\r\n        screen(state){\r\n            this.screensign = state;\r\n            if(state == '全部'){\r\n                this.page.PatrolStatus = 0\r\n            }else if(state == '正常'){\r\n                this.page.PatrolStatus = 1\r\n            }else if(state == '故障-已解决'){\r\n                this.page.PatrolStatus = 2\r\n            }else if(state == '故障-未解决'){\r\n                this.page.PatrolStatus = 3\r\n            }\r\n            \r\n            this.page.SkipCount =0;\r\n            this.GetPatrolList();\r\n        },\r\n\r\n        //获取巡查记录状态统计\r\n        GetPatrolStatusTotal(){\r\n            let fireunitId =localStorage.getItem('fireUnitID')\r\n            this.$axios.get(this.$api.GetPatrolStatusTotal,{params:{fireunitId}}).then(res=>{\r\n                this.buttonarr[1].num = res.data.result.normalCount\r\n                this.buttonarr[2].num = res.data.result.greenFaultCount\r\n                this.buttonarr[3].num = res.data.result.redFaultCount\r\n            }).catch(err=>{\r\n                console.log(\"err\",err)\r\n            })\r\n        },\r\n       \r\n        //获取巡查列表\r\n        GetPatrolList(){\r\n            this.loading = true;\r\n            this.$axios.get(this.$api.GetPatrolList,{params:this.page}).then(res=>{\r\n                console.log(\"获取巡查列表成功\",res);\r\n                this.loading = false;\r\n                if(res.data.result.totalCount>0){\r\n                    for(let arr of res.data.result.items){\r\n                        arr.creationTime = this.deal( arr.creationTime);\r\n                        if( arr.patrolStatus == 1 ){\r\n                            arr.state = '正常'\r\n                        }else if( arr.patrolStatus == 2 ){\r\n                            arr.state = '故障-已解决'\r\n                        }else if( arr.patrolStatus == 3 ){\r\n                            arr.state = '故障-未解决'\r\n                        }\r\n                       \r\n                    }\r\n                    ({totalCount:this.totalCount,items:this.tableData}=res.data.result);\r\n                }\r\n            }).catch(err=>{\r\n                console.log(\"获取巡查列表失败\",err)\r\n            })\r\n        },\r\n        //处理时间\r\n        deal(data){\r\n            var str = data.split('T');\r\n            var str2 = str[1].split(\".\")\r\n            var timestr = str[0] +\" \"+ str2[0]\r\n            return timestr;\r\n        },\r\n        //上下页\r\n        prev_next(page){\r\n            this.page.SkipCount = (page-1)*this.page.MaxResultCount\r\n            this.GetPatrolList();\r\n        },\r\n        //打开弹窗\r\n        showdetails(item){\r\n            this.dialogVisible = true;\r\n            this.GetPatrolInfo(item.patrolId)\r\n        },\r\n        //初始化样式\r\n        initBG(){\r\n            if(this.PatrolInfo.patrolDetailList.length>0){\r\n                var  element =  document.getElementsByClassName('left_cricle_box');\r\n                console.log(\"element\",element)\r\n                var last = element.length-1\r\n                element[last].style.height = 0+\"px\";\r\n                var box = document.getElementsByClassName('right_box_box')\r\n                var last_box = box.length-1;\r\n                var one_height = box[0].clientHeight+12+'px'\r\n                var postionheight =parseInt(one_height) /2 +'px'\r\n                var last_height = box[last_box].clientHeight+12+'px'\r\n                var postionheight_last =parseInt(last_height) /2 +'px'\r\n\r\n                if(this.PatrolInfo.patrolDetailList.length == 1){\r\n                    console.log(\"只有一条数据\",)\r\n                }else{\r\n                    for( var i = 0;i<element.length;i++){\r\n                            element[i].style.height = 'auto'\r\n                            element[i].style.background  = \"url('../../../static/two_bg.png')\"\r\n                            element[i].style.backgroundPosition = 'center'\r\n                            element[i].style.backgroundRepeat = 'no-repeat'\r\n                    }\r\n                    // element[0].style.height = one_height\r\n                    element[0].style.background  = \"url('../../../static/one_bg.png')\"\r\n                    element[0].style.backgroundPosition = `center ${postionheight}`\r\n                    element[0].style.backgroundRepeat = 'no-repeat'\r\n                    element[last].style.height = postionheight_last\r\n                    element[last].style.background  = \"url('../../../static/three.png')\"\r\n                    element[last].style.backgroundRepeat = 'no-repeat'\r\n                    element[last].style.backgroundPosition = `center bottom`\r\n                }\r\n            }\r\n          \r\n        },\r\n        //获取巡查记录详情\r\n        GetPatrolInfo(patrolId){\r\n            this.loading = true;\r\n            this.$axios.get(this.$api.GetPatrolInfo,{params:{patrolId}}).then(res=>{\r\n                console.log(\"获取巡查记录详情\",res)\r\n                res.data.result.creationTime = this.deal(res.data.result.creationTime)\r\n                this.PatrolInfo = res.data.result;\r\n                if( res.data.result.patrolDetailList.length>0){\r\n                    for(let arr of res.data.result.patrolDetailList){\r\n                        arr.creationTime = this.deal( arr.creationTime)\r\n                        for(let x=0;x<arr.patrolPhtosPath.length;x++){\r\n                            arr.patrolPhtosPath[x] = `${this.$URL}${ arr.patrolPhtosPath[x]}`\r\n                        }\r\n                        if(arr.problemVoiceUrl){\r\n                            arr.problemVoiceUrl =  `${this.$URL}${arr.problemVoiceUrl}`;\r\n                            let BenzAMRRecorder = require('benz-amr-recorder');\r\n                            this.amr = new BenzAMRRecorder();\r\n                            this.amr.initWithUrl( arr.problemVoiceUrl);\r\n                        }\r\n                \r\n                    }\r\n                        this.$nextTick(()=>{\r\n                            this.initBG();\r\n                            this.loading = false;\r\n                        })\r\n                        \r\n                }\r\n            }).catch(err=>{\r\n                console.log(\"获取巡查记录详情失败\",err)\r\n            })\r\n        },\r\n        //播放语音\r\n        playaudio(){\r\n            this.amr.play();\r\n            this.amr.onEnded(function() {\r\n               console.log(\"播放完毕\")\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/dataPages/inspectionRecords/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inspectionRecords\"},[_c('div',{staticClass:\"topStatus\"},_vm._l((_vm.buttonarr),function(item){return _c('el-button',{key:item.text,attrs:{\"round\":\"\",\"plain\":\"\",\"type\":item.type},on:{\"click\":function($event){return _vm.screen(item.text)}}},[(_vm.screensign == item.text)?_c('i',{staticClass:\"el-icon-check  el-icon--right\"}):_vm._e(),_vm._v(\"\\n            \"+_vm._s(item.text)+\"\\n            \"+_vm._s(item.num)+\"\\n        \")])}),1),_vm._v(\" \"),_c('baseTable',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"tableThead\":_vm.tableThead,\"tableData\":_vm.tableData,\"totalCount\":_vm.totalCount,\"pageSize\":10,\"specailText\":\"查看巡查记录\"},on:{\"showdetails\":_vm.showdetails,\"pageChange\":_vm.prev_next}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"top\":\"4vh\",\"title\":\"巡查记录\",\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialogContent\"},[_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"提交时间：\")]),_vm._v(_vm._s(_vm.PatrolInfo.creationTime))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"值班人员：\")]),_vm._v(_vm._s(_vm.PatrolInfo.userName))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"巡查方式：\")]),_vm._v(\" \"),(_vm.PatrolInfo.patrolType == 1)?_c('span',[_vm._v(\"一般巡查\")]):_vm._e(),_vm._v(\" \"),(_vm.PatrolInfo.patrolType == 2)?_c('span',[_vm._v(\"扫码巡查\")]):_vm._e()]),_vm._v(\" \"),_c('p',{staticClass:\"summary\"},[_vm._v(\"有效轨迹点\"+_vm._s(_vm.PatrolInfo.totalDetailNum)+\"个，发现\"+_vm._s(_vm.PatrolInfo.totalProblemNum)+\"个问题，现场解决\"+_vm._s(_vm.PatrolInfo.greenProblemNum)+\"个问题\")]),_vm._v(\" \"),( _vm.PatrolInfo.patrolDetailList)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"right_details_TrackList\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},_vm._l((_vm.PatrolInfo.patrolDetailList),function(arr,index){return _c('div',{key:index,staticClass:\"right_details_TrackList_inner\"},[_c('div',{staticClass:\"cricle_container\"},[_c('div',{staticClass:\"left_cricle_box\"}),_vm._v(\" \"),_c('div',{staticClass:\"right_box_box\"},[_c('p',{staticClass:\"right_box_box_time\"},[_c('span',[_vm._v(_vm._s(arr.creationTime))]),_vm._v(\" \"),(arr.patrolStatus == 0)?_c('span',{staticClass:\"status\"},[_vm._v(\"未指定\")]):_vm._e(),_vm._v(\" \"),(arr.patrolStatus == 1)?_c('span',{staticClass:\"status normal\"},[_vm._v(\"正常\")]):_vm._e(),_vm._v(\" \"),(arr.patrolStatus == 2)?_c('span',{staticClass:\"status had\"},[_vm._v(\"已解决\")]):_vm._e(),_vm._v(\" \"),(arr.patrolStatus == 3)?_c('span',{staticClass:\"status hading\"},[_vm._v(\"异常\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"right_box_box_patrolAddress\"},[_c('span',[_vm._v(_vm._s(arr.patrolAddress))])]),_vm._v(\" \"),_c('div',{staticClass:\"VoiceRemark\"},[(arr.problemRemark)?_c('p',{staticClass:\"remark\"},[_vm._v(_vm._s(arr.problemRemark))]):_vm._e(),_vm._v(\" \"),(arr.problemVoiceUrl)?_c('div',{staticClass:\"audio\",on:{\"click\":function($event){return _vm.playaudio(index)}}},[_c('img',{staticClass:\"voice\",attrs:{\"src\":require(\"../../../assets/image/index/voice.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(arr.voiceLength)+\"\\\"\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"right_box_box_Img\"},[_c('viewer',{attrs:{\"images\":arr.patrolPhtosPath}},_vm._l((arr.patrolPhtosPath),function(img,imgIndex){return _c('img',{key:imgIndex,attrs:{\"src\":img,\"alt\":\"\"}})}),0)],1)])])])}),0)],1):_vm._e()])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c0d03bf\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/dataPages/inspectionRecords/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c0d03bf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c0d03bf\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/dataPages/inspectionRecords/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}